<section data-ng-controller="InvoicesController" data-ng-init="findOne()">
	<div class="page-header">
		<h1 data-ng-bind="invoice.name"></h1>
	</div>
	<div class="pull-right" data-ng-show="((authentication.user) && (authentication.user._id == invoice.user._id))">
		<a class="btn btn-primary" href="/#!/invoices/{{invoice._id}}/edit">
			<i class="glyphicon glyphicon-edit"></i>
		</a>
		<a class="btn btn-primary" data-ng-click="remove();">
			<i class="glyphicon glyphicon-trash"></i>
		</a>
	</div>
	<small>
		<em class="text-muted">
            <div class="form-group">
                <div class="controls">
                    <ul>Invoice Date:  {{invoice.invoiceDate | date : "dd/MM/yyyy"}}</ul>
                    <ul>Account:  {{invoice.account.name}}</ul>
                </div>
            </div>
            <div>
                <table id="example" class="table table-bordered">
                    <thead>
                    <tr>
                        <th>Client</th>
                        <th>Period Start</th>
                        <th>Period End</th>
                        <th>No. of Days</th>
                        <th>Rate</th>
                        <th>Amount</th>
                    </tr>
                    </thead>

                    <tfoot>
                    <tr>
                        <th colspan="5">Other Expenses</th>
                        <th>100</th>
                    </tr>
                    <tr>
                        <th colspan="4"></th>
                        <th>Vat</th>
                        <th>{{invoice.total * 20 / 100}}</th>
                    </tr>
                    <tr>
                        <th colspan="4"></th>
                        <th >Total</th>
                        <th>{{invoice.total + (invoice.total * 20 / 100)}}</th>
                    </tr>
                    </tfoot>
                    <tbody ng-repeat="invoiceDetail in invoice.invoiceDetails track by $index">
                    <tr>
                        <td>{{invoiceDetail.customer.name}}</td>
                        <td>{{invoiceDetail.startDate | date : "dd/MM/yyyy"}}</td>
                        <td>{{invoiceDetail.endDate | date : "dd/MM/yyyy"}}</td>
                        <td>{{invoiceDetail.noOfDays}}</td>
                        <td>{{invoiceDetail.rate}}</td>
                        <td>{{invoiceDetail.total}}</td>
                    </tr>
                    </tbody>
                </table>
            </div>
		</em>
	</small>
</section>
